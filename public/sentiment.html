<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>미국 금융시장 심리</title>
<meta name="description" content="미국 주식시장의 공포 탐욕 지수(CNN Fear & Greed Index)를 확인하고 투자에 참고하세요."/>
<link rel="canonical" href="https://anse.ai.kr/sentiment.html"/>

<meta property="og:title" content="미국 금융시장 심리"/>
<meta property="og:description" content="미국 주식시장의 공포 탐욕 지수를 확인하고 투자에 참고하세요."/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="https://anse.ai.kr/sentiment.html"/>
<meta property="og:image" content="https://anse.ai.kr/images/neutral.png"/>

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="미국 금융시장 심리"/>
<meta name="twitter:description" content="미국 주식시장의 공포 탐욕 지수를 확인하고 투자에 참고하세요."/>
<meta name="twitter:image" content="https://anse.ai.kr/images/neutral.png"/>

<!-- Existing styles and icons -->
<link rel="icon" type="image/x-icon" href="images/favicon.ico"/>

<!-- Tailwind CSS and Fonts -->
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#3d84f5",
                        "background-light": "#f5f7f8",
                        "background-dark": "#101722",
                    },
                    fontFamily: {
                        "display": ["Inter", "sans-serif"]
                    },
                    borderRadius: {"DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px"},
                },
            },
        }
    </script>
<style>
        body { font-family: 'Inter', sans-serif; }
        .material-symbols-outlined { font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'OPSZ' 24; }
        .gauge-gradient {
            background: conic-gradient(from 180deg at 50% 100%, #f87171 0deg, #fbbf24 90deg, #3d84f5 180deg);
        }
    </style>

<!-- Google Analytics and Clarity -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-C8QR98TVTB"></script>
<script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-C8QR98TVTB');
    </script>

<script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "v2qmp0i82b");
    </script>

<script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": "미국 금융시장 심리",
      "url": "https://anse.ai.kr/sentiment.html",
      "description": "미국 주식시장의 공포 탐욕 지수를 확인하고 투자에 참고하세요.",
      "datePublished": "2026-01-17",
      "author": {
        "@type": "Person",
        "name": "anse"
      }
    }
    </script>

</head>
<body class="min-h-screen bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-200">
<!-- Top Navigation Bar -->
<header class="sticky top-0 z-50 w-full border-b border-solid border-[#e7ecf4] dark:border-[#1e293b] bg-white/80 dark:bg-background-dark/80 backdrop-blur-md">
<div class="mx-auto flex max-w-[1200px] items-center justify-between px-3 py-3 md:px-6">
<div class="flex items-center gap-8">
<div class="flex items-center gap-3">
<div class="flex h-8 w-8 items-center justify-center rounded-lg bg-primary shrink-0">
<span class="material-symbols-outlined text-[20px] text-white">leaderboard</span>
</div>
<h2 class="text-lg font-bold tracking-tight dark:text-white">US Fear &amp; Greed</h2>
</div>
<div class="hidden md:flex items-center gap-6"> <!-- Desktop Nav -->
<a class="text-sm font-medium text-[#49699c] dark:text-slate-400 hover:text-primary transition-colors" href="/index.html">한국 금융시장 심리</a>
<a class="text-sm font-semibold text-primary" href="/sentiment.html">미국 금융 시장 심리</a>
</div>
</div>
<div class="flex flex-wrap items-center justify-end gap-2 md:gap-4">
<button id="menu-button" class="flex md:hidden h-10 w-10 items-center justify-center rounded-lg bg-[#f0f3f9] dark:bg-slate-800 text-[#0d131c] dark:text-white">
<span class="material-symbols-outlined dark:text-white">menu</span>
</button>

<button id="theme-switcher" class="flex h-10 w-10 items-center justify-center rounded-lg bg-[#f0f3f9] dark:bg-slate-800 text-[#0d131c] dark:text-white">
<span class="material-symbols-outlined dark:text-white">light_mode</span>
</button>
<button class="flex h-10 w-10 items-center justify-center rounded-lg bg-[#f0f3f9] dark:bg-slate-800 text-[#0d131c] dark:text-white">
<span class="material-symbols-outlined dark:text-white">notifications</span>
</button>
<div class="h-10 w-10 rounded-full bg-cover bg-center ring-2 ring-primary/20" data-alt="User profile avatar" style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuBneBh9BK99BKx2b26Ln0wWAXSWA-NkKD-lrrv98lVK_rJdPXTgQuGmdvqczD3UIKISPcMnzpf-BQOdedWBnyulZOQWc1ciJwX7DT6PMhaFrVawJq4F6y18XmDN29W32bH_6CzaUWabwqtdTvTlUIGfSvw74jtRHl327xyGMcu_5I55ABKEDpKDaOoVeIFo8NUFPEGK3dONKg3bls3I7AJT26lh-N-OCbGYRo4N6cdwNSvECRXQfW82pZjHea9vnYNYvU8yp9ZTwnIf')"></div>
</div>
</div>
<div id="mobile-menu" class="md:hidden hidden bg-white/80 dark:bg-background-dark/80 backdrop-blur-md pb-4 border-b border-solid border-[#e7ecf4] dark:border-[#1e293b]">
<nav class="flex flex-col items-center gap-4 py-2">
<a class="text-sm font-medium text-[#49699c] dark:text-slate-400 hover:text-primary transition-colors" href="/index.html">한국 금융시장 심리</a>
<a class="text-sm font-semibold text-primary" href="/sentiment.html">미국 금융 시장 심리</a>
</nav>
</div>
</header>
<main class="mx-auto max-w-[1200px] px-6 py-8">
<!-- Page Heading -->
<div class="mb-8 flex flex-wrap items-end justify-between gap-8">
<div class="flex flex-col gap-1">
<h1 class="text-3xl font-black tracking-tight dark:text-white">US Market Sentiment</h1>
<p class="text-base text-[#49699c] dark:text-slate-400">CNN Business Fear &amp; Greed Index analysis.</p>
</div>
<div id="market-status-indicator" class="flex items-center gap-2 rounded-full bg-slate-100 dark:bg-slate-800 px-6 py-2 text-xs font-bold text-slate-600 dark:text-slate-400">
    <span id="market-status-dot" class="h-2 w-2 rounded-full bg-emerald-500 animate-pulse"></span>
    <span id="market-status-text">Updating...</span>
</div>
<div class="grid grid-cols-1 gap-8 lg:grid-cols-12">
<!-- Main Gauge Section -->
<div class="lg:col-span-8">
<div class="flex flex-col overflow-hidden rounded-xl border border-[#e7ecf4] dark:border-[#1e293b] bg-white dark:bg-[#161f2c] p-8 shadow-sm">
<div class="mb-4 flex flex-wrap items-center justify-between gap-3">
<h3 class="text-lg font-bold">Current Sentiment</h3>
<span id="last-updated-time" class="text-sm font-medium text-[#49699c]">Last updated: -</span>
</div>
<div class="relative flex flex-col items-center py-10">
<!-- Gauge visualization -->
<div class="relative h-48 w-80 overflow-hidden rounded-t-full bg-slate-100 dark:bg-slate-800">
<!-- Gauge segments colored with conic gradient -->
<div class="absolute inset-0 gauge-gradient opacity-80" style="clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);"></div>
<div class="absolute bottom-0 left-1/2 h-32 w-64 -translate-x-1/2 rounded-t-full bg-white dark:bg-[#161f2c]"></div>
<!-- Needle -->
<div class="absolute bottom-0 left-1/2 h-40 w-1 -translate-x-1/2 origin-bottom transition-transform duration-1000 ease-out" id="gauge-needle">
<div class="h-full w-full bg-slate-900 dark:bg-white rounded-full"></div>
<div class="absolute -bottom-2 left-1/2 h-4 w-4 -translate-x-1/2 rounded-full bg-slate-900 dark:bg-white"></div>
</div>
</div>
<div class="mt-6 flex flex-col items-center gap-1">
<span id="score" class="text-5xl font-black text-primary"></span>
<span id="status" class="text-2xl font-bold tracking-tight text-primary">LOADING</span>
</div>
<div class="mt-10 flex flex-wrap w-full justify-between px-4 gap-3">
<div class="flex flex-col items-center md:items-center gap-1">
<span class="h-1.5 w-12 rounded-full bg-red-400"></span>
<span class="text-[10px] font-bold text-[#49699c] uppercase">Extreme Fear</span>
</div>
<div class="flex flex-col items-center md:items-center gap-1">
<span class="h-1.5 w-12 rounded-full bg-yellow-400"></span>
<span class="text-[10px] font-bold text-[#49699c] uppercase">Neutral</span>
</div>
<div class="flex flex-col items-center md:items-center gap-1">
<span class="h-1.5 w-12 rounded-full bg-primary"></span>
<span class="text-[10px] font-bold text-[#49699c] uppercase">Extreme Greed</span>
</div>
</div>
</div>
</div>

<!-- Advice/Quote Section -->
<div class="mt-8 flex flex-col overflow-hidden rounded-xl border border-[#e7ecf4] dark:border-[#1e293b] bg-white dark:bg-[#161f2c] p-6 shadow-sm">
<div class="mb-4 flex items-center justify-between gap-2">
<h3 class="text-lg font-bold">Market Analysis</h3>
</div>
<div id="sentiment-quote-display" class="flex flex-col gap-4">
    <p id="sentiment-quote" class="text-sm dark:text-slate-200">데이터를 불러오는 중...</p>
</div>
</div>
</div>

<!-- Historical Comparisons & Side Metrics -->
<div class="lg:col-span-4 flex flex-col gap-6">
<!-- Proverb Card -->
<div class="flex flex-col gap-4 rounded-xl border border-[#e7ecf4] dark:border-[#1e293b] bg-white dark:bg-[#161f2c] p-6 shadow-sm">
         <h4 class="text-sm font-bold text-[#49699c] uppercase tracking-wider mb-4">오늘의 주식 시장 격언</h4>
        <p id="proverb-text" class="italic text-base text-gray-800 dark:text-gray-200 min-h-[50px] flex items-center justify-center text-center break-keep" style="white-space: pre-wrap;"></p>
        <button id="generate-proverb" class="mt-4 rounded-md bg-primary/10 px-3 py-1 text-xs font-bold text-primary hover:bg-primary/20 transition-colors">새 격언 확인하기</button>
</div>

<!-- US Market Indices (Static or Placeholder) -->
<div class="rounded-xl border border-[#e7ecf4] dark:border-[#1e293b] bg-primary text-white p-6 shadow-sm">
<div class="flex items-center justify-between mb-4">
<h4 class="text-sm font-bold uppercase tracking-wider">S&amp;P 500</h4>
<a href="https://www.google.com/finance/quote/.INX:INDEXSP" target="_blank"><span class="material-symbols-outlined">insights</span></a>
</div>
<div class="flex flex-col gap-1">
<p id="market-index-value" class="text-3xl font-black">View Online</p>
<p class="text-xs text-white/70 mt-2">Click icon to see real-time chart</p>
</div>
</div>

<div class="flex flex-wrap gap-4">
    <button id="how-calculated-button" class="flex items-center gap-2 rounded-lg bg-[#e7ecf4] dark:bg-slate-800 px-4 py-2 text-sm font-bold text-[#0d131c] dark:text-white hover:opacity-80">
    <span class="material-symbols-outlined text-[18px] dark:text-white">help_outline</span>
                            How it's calculated
                        </button>
    <button id="download-btn" class="flex items-center gap-2 rounded-lg bg-[#e7ecf4] dark:bg-slate-800 px-4 py-2 text-sm font-bold text-[#0d131c] dark:text-white hover:opacity-80">
    <span class="material-symbols-outlined text-[18px] dark:text-white">download</span>
                            Export Data
                        </button>
    </div>
</div>
</div>
</div>

<div id="indicator-explanation-section" style="display: none;" class="mt-8">
<h2 class="text-2xl font-bold mb-4 dark:text-white">지표별 계산 방식 (CNN Fear &amp; Greed)</h2>
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <div class="flex flex-col overflow-hidden rounded-xl border border-[#e7ecf4] dark:border-[#1e293b] bg-white dark:bg-[#161f2c] p-6 shadow-sm">
        <h3 class="text-lg font-bold mb-2">1. 주가 모멘텀 (Stock Price Momentum)</h3>
        <p class="text-sm text-[#49699c] dark:text-slate-400">S&amp;P 500 지수와 125일 이동평균선을 비교합니다.</p>
    </div>
    <div class="flex flex-col overflow-hidden rounded-xl border border-[#e7ecf4] dark:border-[#1e293b] bg-white dark:bg-[#161f2c] p-6 shadow-sm">
        <h3 class="text-lg font-bold mb-2">2. 주가 강도 (Stock Price Strength)</h3>
        <p class="text-sm text-[#49699c] dark:text-slate-400">52주 신고가와 신저가 종목 수를 비교합니다.</p>
    </div>
    <div class="flex flex-col overflow-hidden rounded-xl border border-[#e7ecf4] dark:border-[#1e293b] bg-white dark:bg-[#161f2c] p-6 shadow-sm">
        <h3 class="text-lg font-bold mb-2">3. 주가 폭 (Stock Price Breadth)</h3>
        <p class="text-sm text-[#49699c] dark:text-slate-400">상승 종목과 하락 종목의 거래량을 분석합니다. (McClellan Summation Index)</p>
    </div>
    <div class="flex flex-col overflow-hidden rounded-xl border border-[#e7ecf4] dark:border-[#1e293b] bg-white dark:bg-[#161f2c] p-6 shadow-sm">
        <h3 class="text-lg font-bold mb-2">4. 풋/콜 옵션 (Put and Call Options)</h3>
        <p class="text-sm text-[#49699c] dark:text-slate-400">풋 옵션과 콜 옵션의 거래량 비율을 측정합니다.</p>
    </div>
    <div class="flex flex-col overflow-hidden rounded-xl border border-[#e7ecf4] dark:border-[#1e293b] bg-white dark:bg-[#161f2c] p-6 shadow-sm">
        <h3 class="text-lg font-bold mb-2">5. 시장 변동성 (Market Volatility)</h3>
        <p class="text-sm text-[#49699c] dark:text-slate-400">VIX 지수와 50일 이동평균선을 비교합니다.</p>
    </div>
    <div class="flex flex-col overflow-hidden rounded-xl border border-[#e7ecf4] dark:border-[#1e293b] bg-white dark:bg-[#161f2c] p-6 shadow-sm">
        <h3 class="text-lg font-bold mb-2">6. 안전 자산 수요 (Safe Haven Demand)</h3>
        <p class="text-sm text-[#49699c] dark:text-slate-400">주식 수익률과 국채 수익률의 차이를 분석합니다.</p>
    </div>
    <div class="flex flex-col overflow-hidden rounded-xl border border-[#e7ecf4] dark:border-[#1e293b] bg-white dark:bg-[#161f2c] p-6 shadow-sm">
        <h3 class="text-lg font-bold mb-2">7. 정크 본드 수요 (Junk Bond Demand)</h3>
        <p class="text-sm text-[#49699c] dark:text-slate-400">투자 등급 채권과 투기 등급 채권의 수익률 스프레드를 분석합니다.</p>
    </div>
</div>
</div>

<!-- Footer -->
<footer class="mt-12 border-t border-[#e7ecf4] dark:border-[#1e293b] pt-8 pb-12">
<div class="flex flex-wrap items-center justify-between gap-6 text-[#49699c] dark:text-slate-500">
<div class="flex flex-col gap-2">
<p class="text-sm font-medium dark:text-white">Data provided by CNN Business.</p>
<p class="max-w-md text-xs leading-relaxed dark:text-white">The Fear &amp; Greed Index is a way to gauge stock market movements and whether stocks are fairly priced. CNN examines seven different factors to establish how much fear and greed there is in the market.</p>
</div>
<div class="flex gap-4">
    <a href="/privacy.html" class="flex items-center gap-2 rounded-lg bg-[#e7ecf4] dark:bg-slate-800 px-4 py-2 text-sm font-bold text-[#0d131c] dark:text-white hover:opacity-80">
    <span class="material-symbols-outlined text-[18px] dark:text-white">policy</span>
                            개인정보처리방침
                        </a>
    </div>
</div>
</footer>
</main>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script>
      // Firebase initialization
      const firebaseConfig = {
        apiKey: "AIzaSyBumYJj1X1KrjwjWTZhGuO0B-xZJj1fLsE",
        authDomain: "anse-sample1-46739525-2d1c0.firebaseapp.com",
        projectId: "anse-sample1-46739525-2d1c0",
        storageBucket: "anse-sample1-46739525-2d1c0.firebasestorage.app",
        messagingSenderId: "164266713411",
        appId: "1:164266713411:web:31e470b1a7320aa6028ff6"
      };
      if (!firebase.apps.length) {
        firebase.initializeApp(firebaseConfig);
      }
      const db = firebase.firestore();

        // Update gauge
        function updateGauge(score) {
            const needle = document.getElementById('gauge-needle');
            const scoreDisplay = document.getElementById('score');
            const statusEl = document.getElementById('status');

            const rotationDegree = (score / 100) * 180 - 90;
            needle.style.transform = `translateX(-50%) rotate(${rotationDegree}deg)`;
            scoreDisplay.textContent = Math.round(score);

            let textColorClass = "";
            let statusText = "";
            if (score <= 25) { textColorClass = "text-red-500"; statusText = "EXTREME FEAR"; }
            else if (score <= 44) { textColorClass = "text-orange-500"; statusText = "FEAR"; }
            else if (score <= 55) { textColorClass = "text-yellow-500"; statusText = "NEUTRAL"; }
            else if (score <= 75) { textColorClass = "text-emerald-500"; statusText = "GREED"; }
            else { textColorClass = "text-blue-500"; statusText = "EXTREME GREED"; }

            scoreDisplay.classList.remove("text-red-500", "text-orange-500", "text-yellow-500", "text-emerald-500", "text-blue-500", "text-primary");
            scoreDisplay.classList.add(textColorClass);
            statusEl.textContent = statusText;
            statusEl.classList.remove("text-red-500", "text-orange-500", "text-yellow-500", "text-emerald-500", "text-blue-500", "text-primary");
            statusEl.classList.add(textColorClass);
        }

        // US Market Status (NYSE/NASDAQ)
        function updateUSMarketStatus() {
            const marketStatusText = document.getElementById('market-status-text');
            const marketStatusDot = document.getElementById('market-status-dot');
            const marketStatusIndicator = document.getElementById('market-status-indicator');

            // US Market Hours: 9:30 AM - 4:00 PM ET
            // We'll use a simple approach based on UTC
            const now = new Date();
            const utcHour = now.getUTCHours();
            const utcMinute = now.getUTCMinutes();
            const day = now.getUTCDay(); // 0: Sun, 1: Mon, ..., 6: Sat

            // Standard Time (EST): UTC-5 -> 14:30 - 21:00 UTC
            // Daylight Saving (EDT): UTC-4 -> 13:30 - 20:00 UTC
            // For simplicity, let's assume EDT (usually Mar-Nov) or just check a range
            // More robust: use Intl.DateTimeFormat
            const nyTime = new Intl.DateTimeFormat('en-US', {
                timeZone: 'America/New_York',
                hour: 'numeric',
                minute: 'numeric',
                hour12: false,
                weekday: 'short'
            }).formatToParts(now);

            const hourPart = nyTime.find(p => p.type === 'hour').value;
            const minutePart = nyTime.find(p => p.type === 'minute').value;
            const weekdayPart = nyTime.find(p => p.type === 'weekday').value;

            const hour = parseInt(hourPart);
            const minute = parseInt(minutePart);
            const isWeekend = weekdayPart === 'Sat' || weekdayPart === 'Sun';

            let isOpen = false;
            if (!isWeekend) {
                const totalMinutes = hour * 60 + minute;
                if (totalMinutes >= (9 * 60 + 30) && totalMinutes < (16 * 60)) {
                    isOpen = true;
                }
            }

            if (isOpen) {
                marketStatusText.textContent = "MARKET OPEN";
                marketStatusDot.classList.add('bg-emerald-500', 'animate-pulse');
                marketStatusIndicator.classList.add('bg-emerald-100', 'text-emerald-600');
            } else {
                marketStatusText.textContent = "MARKET CLOSED";
                marketStatusDot.classList.add('bg-red-500');
                marketStatusIndicator.classList.add('bg-slate-200/60', 'text-slate-600');
            }
        }

        async function fetchUSSentiment() {
            const quoteEl = document.getElementById('sentiment-quote');
            const lastUpdatedEl = document.getElementById('last-updated-time');

            try {
                const doc = await db.collection('market_sentiment').doc('cnn_fng').get();
                if (doc.exists) {
                    const data = doc.data();
                    const value = data.value;
                    updateGauge(value);

                    let quoteText = "";
                    if (value >= 0 && value <= 24) {
                        quoteText = "무섭게 떨어지네요.\n모두가 도망칠 때, 오히려 기회가 숨어 있다는데?!";
                    } else if (value >= 25 && value <= 44) {
                        quoteText = "점점 무서워집니다.\n그래도 이런 구간에서는 그동안 사고 싶었던 주식을 잘 살펴봐요.";
                    } else if (value >= 45 && value <= 55) {
                        quoteText = "팔까, 살까… 헷갈리는 시기.\n타이밍을 재지 말고, 꾸준히 살 수 있는 주식을 잘 살펴봐요.";
                    } else if (value >= 56 && value <= 75) {
                        quoteText = "사람들의 욕심이 조금씩 느껴지네요.\n수익이 났다면, 신중한 매수가 필요한 때입니다. \n현금도 종목이다.";
                    } else if (value >= 76 && value <= 100) {
                        quoteText = "주린이도 주식 이야기뿐인 시장.\n나는 이제… 아무것도 안살란다. 떠나보낼 주식이라면 지금이 기회.";
                    } else {
                        quoteText = "알 수 없는 시장 상태입니다.";
                    }

                    quoteEl.textContent = quoteText;
                    
                    if (data.last_update) {
                        lastUpdatedEl.textContent = `Last updated: ${data.last_update}`;
                    }
                } else {
                    quoteEl.textContent = "아직 데이터가 없습니다. GitHub Actions를 실행해주세요.";
                }
            } catch (error) {
                console.error("Error fetching US sentiment:", error);
                quoteEl.textContent = "데이터를 불러오는 데 실패했습니다.";
            }
        }

        const proverbs = [
            "\u201c시장은 단기적으로 투표기계지만 장기적으로 저울이다.\u201d\n\u2192 벤저민 그레이엄",
            "\u201c잃지 않는 것이 버는 것보다 중요하다.\u201d\n\u2192 워런 버핏",
            "\u201c공포 속에서 사고 탐욕 속에서 팔아라.\u201d\n\u2192 월가 격언",
            "\u201c이번엔 다르다는 말이 가장 위험하다.\u201d\n\u2192 존 템플턴",
            "\u201c기다리는 것도 포지션이다.\u201d\n\u2192 월가 격언"
        ];

        function displayRandomProverb() {
            const proverbText = document.getElementById('proverb-text');
            const randomIndex = Math.floor(Math.random() * proverbs.length);
            proverbText.textContent = proverbs[randomIndex];
        }

        document.addEventListener('DOMContentLoaded', () => {
            // Theme switcher
            const themeSwitcher = document.getElementById('theme-switcher');
            themeSwitcher.addEventListener('click', () => {
                const isDarkMode = document.documentElement.classList.toggle('dark');
                localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
                const icon = themeSwitcher.querySelector('.material-symbols-outlined');
                icon.textContent = isDarkMode ? 'dark_mode' : 'light_mode';
            });
            if (localStorage.getItem('theme') === 'dark') {
                document.documentElement.classList.add('dark');
                themeSwitcher.querySelector('.material-symbols-outlined').textContent = 'dark_mode';
            }

            // Mobile menu
            document.getElementById('menu-button').addEventListener('click', () => {
                document.getElementById('mobile-menu').classList.toggle('hidden');
            });

            fetchUSSentiment();
            updateUSMarketStatus();
            displayRandomProverb();
            document.getElementById('generate-proverb').addEventListener('click', displayRandomProverb);

            document.getElementById('how-calculated-button').addEventListener('click', () => {
                const section = document.getElementById('indicator-explanation-section');
                section.style.display = section.style.display === 'none' ? 'block' : 'none';
            });

            document.getElementById('download-btn').addEventListener('click', function() {
                html2canvas(document.querySelector('main'), { scale: 2 }).then(canvas => {
                    const link = document.createElement('a');
                    link.download = 'us_sentiment_report.png';
                    link.href = canvas.toDataURL();
                    link.click();
                });
            });
        });
    </script>
</body>
</html>
